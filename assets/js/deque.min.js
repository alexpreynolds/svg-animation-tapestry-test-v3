"use strict";function Deque(t){if(this._capacity=getCapacity(t),this._length=0,this._front=0,isArray(t)){for(var e=t.length,r=0;e>r;++r)this[r]=t[r];this._length=e}}function arrayMove(t,e,r,i,o){for(var n=0;o>n;++n)r[n+i]=t[n+e],t[n+e]=void 0}function pow2AtLeast(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1}function getCapacity(t){if("number"!=typeof t){if(!isArray(t))return 16;t=t.length}return pow2AtLeast(Math.min(Math.max(16,t),1073741824))}Deque.prototype.toArray=function(){for(var t=this._length,e=new Array(t),r=this._front,i=this._capacity,o=0;t>o;++o)e[o]=this[r+o&i-1];return e},Deque.prototype.push=function(t){var e=arguments.length,r=this._length;if(e>1){var i=this._capacity;if(r+e>i){for(var o=0;e>o;++o){this._checkCapacity(r+1);var n=this._front+r&this._capacity-1;this[n]=arguments[o],r++,this._length=r}return r}for(var n=this._front,o=0;e>o;++o)this[n+r&i-1]=arguments[o],n++;return this._length=r+e,r+e}if(0===e)return r;this._checkCapacity(r+1);var o=this._front+r&this._capacity-1;return this[o]=t,this._length=r+1,r+1},Deque.prototype.pop=function(){var t=this._length;if(0===t)return void 0;var e=this._front+t-1&this._capacity-1,r=this[e];return this[e]=void 0,this._length=t-1,r},Deque.prototype.shift=function(){var t=this._length;if(0===t)return void 0;var e=this._front,r=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,r},Deque.prototype.unshift=function(t){var e=this._length,r=arguments.length;if(r>1){var i=this._capacity;if(e+r>i){for(var o=r-1;o>=0;o--){this._checkCapacity(e+1);var i=this._capacity,n=(this._front-1&i-1^i)-i;this[n]=arguments[o],e++,this._length=e,this._front=n}return e}for(var h=this._front,o=r-1;o>=0;o--){var n=(h-1&i-1^i)-i;this[n]=arguments[o],h=n}return this._front=h,this._length=e+r,e+r}if(0===r)return e;this._checkCapacity(e+1);var i=this._capacity,o=(this._front-1&i-1^i)-i;return this[o]=t,this._length=e+1,this._front=o,e+1},Deque.prototype.peekBack=function(){var t=this._length;if(0===t)return void 0;var e=this._front+t-1&this._capacity-1;return this[e]},Deque.prototype.peekFront=function(){return 0===this._length?void 0:this[this._front]},Deque.prototype.get=function(t){var e=t;if(e!==(0|e))return void 0;var r=this._length;return 0>e&&(e+=r),0>e||e>=r?void 0:this[this._front+e&this._capacity-1]},Deque.prototype.isEmpty=function(){return 0===this._length},Deque.prototype.clear=function(){for(var t=this._length,e=this._front,r=this._capacity,i=0;t>i;++i)this[e+i&r-1]=void 0;this._length=0,this._front=0},Deque.prototype.toString=function(){return this.toArray().toString()},Deque.prototype.valueOf=Deque.prototype.toString,Deque.prototype.removeFront=Deque.prototype.shift,Deque.prototype.removeBack=Deque.prototype.pop,Deque.prototype.insertFront=Deque.prototype.unshift,Deque.prototype.insertBack=Deque.prototype.push,Deque.prototype.enqueue=Deque.prototype.push,Deque.prototype.dequeue=Deque.prototype.shift,Deque.prototype.toJSON=Deque.prototype.toArray,Object.defineProperty(Deque.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),Deque.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(getCapacity(1.5*this._capacity+16))},Deque.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,i=this._length;if(r+i>e){var o=r+i&e-1;arrayMove(this,0,this,e,o)}};var isArray=Array.isArray;